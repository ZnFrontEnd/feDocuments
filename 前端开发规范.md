## 前端开发规范

![](http://ww1.sinaimg.cn/large/005QDhBjly1fy9jrrvwx4j30qn0ktwf0.jpg)

##### 1.分支管理：

`master`： 主分支，常驻分支，其代码与线上代码保持一致，不能直接操作，只能合并版本分支

`version-daily`: 日常分支，常驻分支，只能合并功能分支和master分支，不能合并其他分支

`version-pre`：预发分支，常驻分支，同version-daily

`feature`： 功能分支，指定版本的单个功能的分支

`local`：本地分支，只是开发人员在功能分支的基础上切出来的分支，根据自己的需求，选择是否切分支，因为是本地分支，所以不允许提交到远程代码仓库里，只能合并到自己的功能分支上，并且每天下班前都得合并一下，防止代码丢失

`fix`: 修复分支，修复线上紧急bug，从master分支上直接拉出来一个fix分支进行修复，修复完成后将     fix合并到master分支上，如果是非紧急的bug，则合并到待发布版本的分支上，同下一个版本一起发布

`一个版本，远程仓库中每个人只允许有一个功能分支，可以有很多本地分支，晚上下班前所有的本地分支都合并到远程分支上 `

版本分支命名规范：

```
version2.2.3
2.2.3: 此次发布的版本
```



功能分支的命名规范：

```
feature001-0.0.1
feature：是代表功能分支的意思
001： 当前版本的版本号
0.0.1： 当前功能分支的分支号
```

fix分支命名规范：

```
version-fix
```

##### 2.分支权限控制

master， version-daily（日常），version-pre（预发）只有管理员才有权限进行提交，开发者没有提交的权限

##### 3.测试流程

首先代码开发完会将当前需要测试的版本对应的功能分支合并到version-daily分支上，然后发布日常环境

* 1.功能点自测

  feature分支和非紧急修复fix分支,在开发人员自测完后合并到version-daily分支

* 2.日常测试

    将feature分支合并到version-daily分支，进行测试，同时对测出的bug进行修复

* 3.预发测试

  日常测试完成后，将version-daily分支的代码合并到version-pre分支上，进行测试，步骤同日常

* 4.发布线上

  从version-pre上切出一个版本分支,然后进行打包，最后发布到线上，发布成功后，版本分支会合并到master上，然后删除版本分支和功能分支

##### 4.当两个功能分支有依赖，必须每天都相互合并一下（有相互依赖必须同一个版本上） 

##### 5.除了日常环境，其他分支都不能主动合并master分支

##### 6.每次提交的commit都必须写清楚

##### 7.merge的格式

````
git merge --no-ff [BRANCH]
````





